CREATE TABLE users (id INT NOT NULL, username VARCHAR(32) NOT NULL, email TEXT NOT NULL, full_name TEXT NOT NULL, password VARCHAR(60) NOT NULL, note TEXT NOT NULL, registration TIMESTAMP(0) WITH TIME ZONE NOT NULL, last_activity TIMESTAMP(0) WITH TIME ZONE NOT NULL, language VARCHAR(5) NOT NULL, PRIMARY KEY(id));
CREATE UNIQUE INDEX UNIQ_1483A5E9F85E0677 ON users (username);
CREATE UNIQUE INDEX UNIQ_1483A5E9E7927C74 ON users (email);
CREATE TABLE routinginfo (id INT NOT NULL, module_id INT DEFAULT NULL, uri TEXT NOT NULL, handler TEXT NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_92043ED9AFC2B591 ON routinginfo (module_id);
CREATE TABLE modules (id INT NOT NULL, creator_id INT DEFAULT NULL, vendor TEXT NOT NULL, name TEXT NOT NULL, description TEXT NOT NULL, path TEXT NOT NULL, installed_at TIMESTAMP(0) WITH TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_2EB743D761220EA6 ON modules (creator_id);
CREATE UNIQUE INDEX mod_id ON modules (vendor, name);
CREATE SEQUENCE users_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE routinginfo_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE modules_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
ALTER TABLE routinginfo ADD CONSTRAINT FK_92043ED9AFC2B591 FOREIGN KEY (module_id) REFERENCES modules (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE modules ADD CONSTRAINT FK_2EB743D761220EA6 FOREIGN KEY (creator_id) REFERENCES users (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
